# SSH Configuration Template
# Copy this file to ~/.ssh/config and customize as needed
#
# ============================================================================
# KEY MANAGEMENT: Choose one approach
# ============================================================================
#
# Option A — 1Password SSH Agent (recommended)
#   - Private keys stored in 1Password vault (never on disk)
#   - IdentityFile points to the .pub file (public key only)
#   - Works on Windows, macOS, Linux (with 1Password agent enabled)
#   - No UseKeychain, no AddKeysToAgent needed
#
# Option B — Traditional key files
#   - Private key stored as a file in ~/.ssh/
#   - IdentityFile points to the private key (no .pub extension)
#   - macOS: add UseKeychain yes to store passphrase in Keychain
#   - Linux/Windows: AddKeysToAgent yes to cache key in ssh-agent
#
# ============================================================================
# Machine-specific config (load before Host blocks so it can override)
# ============================================================================
# Create ~/.ssh/config.local for machine-specific entries and uncomment:
# Include ~/.ssh/config.local

# ============================================================================
# Global Defaults
# ============================================================================
Host *
    IdentitiesOnly yes
    ServerAliveInterval 60
    ServerAliveCountMax 3

    # Option A (1Password): remove the line below
    # Option B (traditional, macOS only): uncomment UseKeychain instead
    AddKeysToAgent yes
    # UseKeychain yes

# ============================================================================
# GitHub — Personal Account
# ============================================================================
Host github.com
    HostName github.com
    User git

    # Option A (1Password):
    # IdentityFile ~/.ssh/id_ed25519.pub

    # Option B (traditional):
    # IdentityFile ~/.ssh/id_ed25519

# ============================================================================
# GitHub — Second Account (e.g. work or org)
# ============================================================================
# Usage: git clone git@github-work:org/repo.git
# Or configure URL rewrite in .gitconfig to make it automatic
#
Host github-work
    HostName github.com
    User git

    # Option A (1Password):
    # IdentityFile ~/.ssh/id_ed25519_work.pub

    # Option B (traditional):
    # IdentityFile ~/.ssh/id_ed25519_work

# ============================================================================
# Servers with Cloudflare Tunnel (machine-specific, don't commit)
# ============================================================================
# Add to ~/.ssh/config.local:
#
# Host myserver.example.com
#     ProxyCommand cloudflared access ssh --hostname tunnel.example.com
#     User git
#     IdentityFile ~/.ssh/id_ed25519.pub    # Option A (1Password)
#     # IdentityFile ~/.ssh/id_ed25519      # Option B (traditional)
